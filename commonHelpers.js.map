{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\nconst searchInput = form.elements.input;\nconst imagesList = document.querySelector('.container');\nconst loadingMessage = document.querySelector('.message');\n\nform.addEventListener('submit', searchImages);\n\nfunction searchImages(event) {\n  event.preventDefault();\n  imagesList.innerHTML = '';\n  if (!searchInput.value.trim()) {\n    iziToast.show({\n      message: 'Your query does not contain any letters!',\n      messageColor: '#fff',\n      backgroundColor: '#ef4040',\n      position: 'topRight',\n    });\n    return;\n  }\n  loadingMessage.classList.remove('is-hidden');\n  fetchImages()\n    .then(images => renderImages(images.hits))\n    .catch(error => console.log(error));\n}\n\nfunction fetchImages() {\n  const searchParams = new URLSearchParams({\n    key: '43199917-ac2cc136e7963c28457226ad3',\n    q: `${searchInput.value.trim()}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`https://pixabay.com/api/?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nfunction renderImages(images) {\n  loadingMessage.classList.add('is-hidden');\n  if (!images.length) {\n    iziToast.show({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      messageColor: '#fff',\n      backgroundColor: '#ef4040',\n      position: 'topRight',\n    });\n  }\n  const markupImages = images\n    .map(image => {\n      return `\n            <li class=\"item\">\n            <a href=\"${image.largeImageURL}\">\n            <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n            </a>\n            <div class=\"item-content\">\n            <div>\n            <h3 class=\"title\">Likes</h3>\n            <p class=\"amount\">${image.likes}</p>\n            </div>\n            <div>\n            <h3 class=\"title\">Views</h3>\n            <p class=\"amount\">${image.views}</p>\n            </div>\n            <div>\n            <h3 class=\"title\">Comments</h3>\n            <p class=\"amount\">${image.comments}</p>\n            </div>\n            <div>\n            <h3 class=\"title\">Downloads</h3>\n            <p class=\"amount\">${image.downloads}</p>\n            </div>\n            </div>\n            </li>\n            `;\n    })\n    .join('');\n  imagesList.insertAdjacentHTML('beforeend', markupImages);\n  lightbox.refresh();\n}\n\nconst lightbox = new SimpleLightbox('.container a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n"],"names":["form","searchInput","imagesList","loadingMessage","searchImages","event","iziToast","fetchImages","images","renderImages","error","searchParams","response","markupImages","image","lightbox","SimpleLightbox"],"mappings":"6vBAMA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAcD,EAAK,SAAS,MAC5BE,EAAa,SAAS,cAAc,YAAY,EAChDC,EAAiB,SAAS,cAAc,UAAU,EAExDH,EAAK,iBAAiB,SAAUI,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAG3B,GAFAA,EAAM,eAAc,EACpBH,EAAW,UAAY,GACnB,CAACD,EAAY,MAAM,OAAQ,CAC7BK,EAAS,KAAK,CACZ,QAAS,2CACT,aAAc,OACd,gBAAiB,UACjB,SAAU,UAChB,CAAK,EACD,MACD,CACDH,EAAe,UAAU,OAAO,WAAW,EAC3CI,EAAa,EACV,KAAKC,GAAUC,EAAaD,EAAO,IAAI,CAAC,EACxC,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CAEA,SAASH,GAAc,CACrB,MAAMI,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAG,GAAGV,EAAY,MAAM,KAAM,CAAA,GAC9B,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,4BAA4BU,CAAY,EAAE,EAAE,KAAKC,GAAY,CACxE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CAEA,SAASH,EAAaD,EAAQ,CAC5BL,EAAe,UAAU,IAAI,WAAW,EACnCK,EAAO,QACVF,EAAS,KAAK,CACZ,QACE,2EACF,aAAc,OACd,gBAAiB,UACjB,SAAU,UAChB,CAAK,EAEH,MAAMO,EAAeL,EAClB,IAAIM,GACI;AAAA;AAAA,uBAEUA,EAAM,aAAa;AAAA,wBAClBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,gCAK9BA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,gCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,gCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,gCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,aAK1C,EACA,KAAK,EAAE,EACVZ,EAAW,mBAAmB,YAAaW,CAAY,EACvDE,EAAS,QAAO,CAClB,CAEA,MAAMA,EAAW,IAAIC,EAAe,eAAgB,CAClD,aAAc,MACd,aAAc,GAChB,CAAC"}